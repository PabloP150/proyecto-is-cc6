-- Add Team Members to Development, Design, and QA Teams\n-- This script adds 5 unique members to each team with realistic analytics data\n\n-- =============================================\n-- TEAM MEMBER SETUP\n-- =============================================\n\n-- Development Team (test-group-456) - 5 members\nDECLARE @dev_group_id VARCHAR(50) = 'test-group-456';\nDECLARE @design_group_id VARCHAR(50) = 'test-group-789';\nDECLARE @qa_group_id VARCHAR(50) = 'test-group-123';\n\n-- Development Team Members\nDECLARE @dev_user1 UNIQUEIDENTIFIER = 'DEV00001-1111-1111-1111-111111111111';\nDECLARE @dev_user2 UNIQUEIDENTIFIER = 'DEV00002-2222-2222-2222-222222222222';\nDECLARE @dev_user3 UNIQUEIDENTIFIER = 'DEV00003-3333-3333-3333-333333333333';\nDECLARE @dev_user4 UNIQUEIDENTIFIER = 'DEV00004-4444-4444-4444-444444444444';\nDECLARE @dev_user5 UNIQUEIDENTIFIER = 'DEV00005-5555-5555-5555-555555555555';\n\n-- Design Team Members\nDECLARE @design_user1 UNIQUEIDENTIFIER = 'DES00001-1111-1111-1111-111111111111';\nDECLARE @design_user2 UNIQUEIDENTIFIER = 'DES00002-2222-2222-2222-222222222222';\nDECLARE @design_user3 UNIQUEIDENTIFIER = 'DES00003-3333-3333-3333-333333333333';\nDECLARE @design_user4 UNIQUEIDENTIFIER = 'DES00004-4444-4444-4444-444444444444';\nDECLARE @design_user5 UNIQUEIDENTIFIER = 'DES00005-5555-5555-5555-555555555555';\n\n-- QA Team Members\nDECLARE @qa_user1 UNIQUEIDENTIFIER = 'QA000001-1111-1111-1111-111111111111';\nDECLARE @qa_user2 UNIQUEIDENTIFIER = 'QA000002-2222-2222-2222-222222222222';\nDECLARE @qa_user3 UNIQUEIDENTIFIER = 'QA000003-3333-3333-3333-333333333333';\nDECLARE @qa_user4 UNIQUEIDENTIFIER = 'QA000004-4444-4444-4444-444444444444';\nDECLARE @qa_user5 UNIQUEIDENTIFIER = 'QA000005-5555-5555-5555-555555555555';\n\n-- Group IDs (assuming these groups exist)\nDECLARE @dev_group_guid UNIQUEIDENTIFIER = CAST(@dev_group_id AS UNIQUEIDENTIFIER);\nDECLARE @design_group_guid UNIQUEIDENTIFIER = CAST(@design_group_id AS UNIQUEIDENTIFIER);\nDECLARE @qa_group_guid UNIQUEIDENTIFIER = CAST(@qa_group_id AS UNIQUEIDENTIFIER);\n\n-- =============================================\n-- CREATE USERS\n-- =============================================\n\nPRINT 'Creating Development Team Members...';\n\n-- Development Team Users\nINSERT INTO dbo.Users (uid, username, password) VALUES\n(@dev_user1, 'sarah_chen', '$2b$10$hashedpassword1'), -- Frontend specialist\n(@dev_user2, 'marcus_johnson', '$2b$10$hashedpassword2'), -- Backend lead\n(@dev_user3, 'elena_rodriguez', '$2b$10$hashedpassword3'), -- Full-stack developer\n(@dev_user4, 'david_kim', '$2b$10$hashedpassword4'), -- DevOps engineer\n(@dev_user5, 'alex_thompson', '$2b$10$hashedpassword5'); -- Junior developer\n\nPRINT 'Creating Design Team Members...';\n\n-- Design Team Users\nINSERT INTO dbo.Users (uid, username, password) VALUES\n(@design_user1, 'maya_patel', '$2b$10$hashedpassword6'), -- UI/UX lead\n(@design_user2, 'james_wilson', '$2b$10$hashedpassword7'), -- UX researcher\n(@design_user3, 'zoe_martinez', '$2b$10$hashedpassword8'), -- Visual designer\n(@design_user4, 'ryan_foster', '$2b$10$hashedpassword9'), -- Interaction designer\n(@design_user5, 'sophie_chang', '$2b$10$hashedpassword10'); -- Design systems specialist\n\nPRINT 'Creating QA Team Members...';\n\n-- QA Team Users\nINSERT INTO dbo.Users (uid, username, password) VALUES\n(@qa_user1, 'lisa_wang', '$2b$10$hashedpassword11'), -- Test automation lead\n(@qa_user2, 'tom_anderson', '$2b$10$hashedpassword12'), -- Manual testing specialist\n(@qa_user3, 'priya_sharma', '$2b$10$hashedpassword13'), -- Performance tester\n(@qa_user4, 'jake_miller', '$2b$10$hashedpassword14'), -- Security tester\n(@qa_user5, 'nina_kowalski', '$2b$10$hashedpassword15'); -- QA analyst\n\n-- =============================================\n-- CREATE GROUPS (if they don't exist)\n-- =============================================\n\n-- Note: You may need to adjust adminId to an existing user\nIF NOT EXISTS (SELECT 1 FROM dbo.Groups WHERE name = 'Development Team')\nBEGIN\n    INSERT INTO dbo.Groups (gid, adminId, name) VALUES\n    (@dev_group_guid, @dev_user2, 'Development Team'); -- Marcus as admin\nEND\n\nIF NOT EXISTS (SELECT 1 FROM dbo.Groups WHERE name = 'Design Team')\nBEGIN\n    INSERT INTO dbo.Groups (gid, adminId, name) VALUES\n    (@design_group_guid, @design_user1, 'Design Team'); -- Maya as admin\nEND\n\nIF NOT EXISTS (SELECT 1 FROM dbo.Groups WHERE name = 'QA Team')\nBEGIN\n    INSERT INTO dbo.Groups (gid, adminId, name) VALUES\n    (@qa_group_guid, @qa_user1, 'QA Team'); -- Lisa as admin\nEND\n\n-- =============================================\n-- ADD USERS TO GROUPS\n-- =============================================\n\nPRINT 'Adding users to Development Team...';\n\n-- Add Development Team members\nINSERT INTO dbo.UserGroups (uid, gid) VALUES\n(@dev_user1, @dev_group_guid),\n(@dev_user2, @dev_group_guid),\n(@dev_user3, @dev_group_guid),\n(@dev_user4, @dev_group_guid),\n(@dev_user5, @dev_group_guid);\n\nPRINT 'Adding users to Design Team...';\n\n-- Add Design Team members\nINSERT INTO dbo.UserGroups (uid, gid) VALUES\n(@design_user1, @design_group_guid),\n(@design_user2, @design_group_guid),\n(@design_user3, @design_group_guid),\n(@design_user4, @design_group_guid),\n(@design_user5, @design_group_guid);\n\nPRINT 'Adding users to QA Team...';\n\n-- Add QA Team members\nINSERT INTO dbo.UserGroups (uid, gid) VALUES\n(@qa_user1, @qa_group_guid),\n(@qa_user2, @qa_group_guid),\n(@qa_user3, @qa_group_guid),\n(@qa_user4, @qa_group_guid),\n(@qa_user5, @qa_group_guid);\n\n-- =============================================\n-- ADD ANALYTICS DATA - USER EXPERTISE\n-- =============================================\n\nPRINT 'Adding User Expertise data...';\n\n-- Development Team Expertise\n-- Sarah Chen - Frontend Specialist\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@dev_user1, 'frontend', 94.0, 28, 3.2, 96.0),\n(@dev_user1, 'backend', 45.0, 8, 7.5, 75.0),\n(@dev_user1, 'testing', 72.0, 15, 4.0, 87.0),\n(@dev_user1, 'general', 78.0, 20, 4.1, 90.0);\n\n-- Marcus Johnson - Backend Lead\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@dev_user2, 'frontend', 52.0, 12, 6.0, 83.0),\n(@dev_user2, 'backend', 96.0, 45, 4.2, 98.0),\n(@dev_user2, 'database', 91.0, 32, 3.8, 94.0),\n(@dev_user2, 'testing', 68.0, 18, 5.0, 89.0),\n(@dev_user2, 'general', 82.0, 35, 4.5, 92.0);\n\n-- Elena Rodriguez - Full-stack Developer\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@dev_user3, 'frontend', 85.0, 22, 4.0, 91.0),\n(@dev_user3, 'backend', 88.0, 26, 4.5, 93.0),\n(@dev_user3, 'database', 76.0, 18, 5.2, 86.0),\n(@dev_user3, 'testing', 71.0, 14, 4.8, 85.0),\n(@dev_user3, 'general', 80.0, 25, 4.6, 89.0);\n\n-- David Kim - DevOps Engineer\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@dev_user4, 'frontend', 38.0, 5, 8.0, 60.0),\n(@dev_user4, 'backend', 82.0, 24, 5.0, 88.0),\n(@dev_user4, 'database', 89.0, 30, 3.5, 95.0),\n(@dev_user4, 'testing', 91.0, 35, 3.2, 97.0),\n(@dev_user4, 'general', 75.0, 28, 4.9, 86.0);\n\n-- Alex Thompson - Junior Developer\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@dev_user5, 'frontend', 65.0, 12, 6.5, 75.0),\n(@dev_user5, 'backend', 58.0, 10, 7.2, 70.0),\n(@dev_user5, 'testing', 45.0, 8, 8.0, 62.0),\n(@dev_user5, 'general', 56.0, 15, 7.0, 69.0);\n\n-- Design Team Expertise\n-- Maya Patel - UI/UX Lead\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@design_user1, 'frontend', 89.0, 25, 4.5, 92.0),\n(@design_user1, 'general', 94.0, 40, 3.8, 96.0);\n\n-- James Wilson - UX Researcher\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@design_user2, 'frontend', 62.0, 15, 6.0, 80.0),\n(@design_user2, 'general', 88.0, 30, 4.2, 93.0);\n\n-- Zoe Martinez - Visual Designer\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@design_user3, 'frontend', 78.0, 20, 5.0, 85.0),\n(@design_user3, 'general', 92.0, 35, 4.0, 94.0);\n\n-- Ryan Foster - Interaction Designer\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@design_user4, 'frontend', 71.0, 18, 5.5, 83.0),\n(@design_user4, 'general', 85.0, 28, 4.8, 89.0);\n\n-- Sophie Chang - Design Systems Specialist\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@design_user5, 'frontend', 86.0, 22, 4.2, 90.0),\n(@design_user5, 'general', 91.0, 32, 4.1, 95.0);\n\n-- QA Team Expertise\n-- Lisa Wang - Test Automation Lead\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@qa_user1, 'frontend', 68.0, 15, 5.5, 80.0),\n(@qa_user1, 'backend', 72.0, 18, 5.0, 83.0),\n(@qa_user1, 'testing', 96.0, 50, 2.8, 98.0),\n(@qa_user1, 'general', 79.0, 35, 4.1, 87.0);\n\n-- Tom Anderson - Manual Testing Specialist\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@qa_user2, 'frontend', 55.0, 12, 6.5, 75.0),\n(@qa_user2, 'backend', 48.0, 10, 7.0, 70.0),\n(@qa_user2, 'testing', 89.0, 42, 3.5, 92.0),\n(@qa_user2, 'general', 64.0, 28, 5.2, 78.0);\n\n-- Priya Sharma - Performance Tester\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@qa_user3, 'frontend', 61.0, 14, 6.0, 78.0),\n(@qa_user3, 'backend', 84.0, 25, 4.2, 88.0),\n(@qa_user3, 'database', 87.0, 28, 3.8, 91.0),\n(@qa_user3, 'testing', 93.0, 38, 3.0, 95.0),\n(@qa_user3, 'general', 81.0, 32, 4.3, 86.0);\n\n-- Jake Miller - Security Tester\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@qa_user4, 'backend', 78.0, 20, 4.8, 85.0),\n(@qa_user4, 'database', 82.0, 22, 4.5, 88.0),\n(@qa_user4, 'testing', 88.0, 32, 3.8, 90.0),\n(@qa_user4, 'general', 76.0, 25, 4.9, 82.0);\n\n-- Nina Kowalski - QA Analyst\nINSERT INTO dbo.UserExpertise (uid, task_category, expertise_score, tasks_completed, avg_completion_time_hours, success_rate_percentage) VALUES\n(@qa_user5, 'frontend', 52.0, 10, 7.0, 70.0),\n(@qa_user5, 'backend', 45.0, 8, 8.0, 62.0),\n(@qa_user5, 'testing', 82.0, 28, 4.0, 86.0),\n(@qa_user5, 'general', 60.0, 22, 6.0, 73.0);\n\n-- =============================================\n-- ADD CURRENT WORKLOAD METRICS\n-- =============================================\n\nPRINT 'Adding current workload metrics...';\n\n-- Current date metrics for all users\nDECLARE @current_date DATE = CAST(GETDATE() AS DATE);\n\n-- Development Team Current Workloads\nINSERT INTO dbo.UserMetrics (uid, metric_date, active_tasks_count, max_concurrent_tasks, avg_completion_time_hours, success_rate_percentage) VALUES\n(@dev_user1, @current_date, 4, 5, 3.2, 96.0), -- Sarah - High load\n(@dev_user2, @current_date, 3, 6, 4.2, 98.0), -- Marcus - Moderate load\n(@dev_user3, @current_date, 5, 6, 4.5, 93.0), -- Elena - At capacity\n(@dev_user4, @current_date, 2, 4, 4.0, 95.0), -- David - Light load\n(@dev_user5, @current_date, 3, 4, 7.0, 69.0); -- Alex - Moderate load\n\n-- Design Team Current Workloads\nINSERT INTO dbo.UserMetrics (uid, metric_date, active_tasks_count, max_concurrent_tasks, avg_completion_time_hours, success_rate_percentage) VALUES\n(@design_user1, @current_date, 3, 4, 3.8, 96.0), -- Maya - High load\n(@design_user2, @current_date, 2, 5, 4.2, 93.0), -- James - Light load\n(@design_user3, @current_date, 4, 5, 4.0, 94.0), -- Zoe - High load\n(@design_user4, @current_date, 1, 3, 4.8, 89.0), -- Ryan - Very light load\n(@design_user5, @current_date, 2, 4, 4.1, 95.0); -- Sophie - Light load\n\n-- QA Team Current Workloads\nINSERT INTO dbo.UserMetrics (uid, metric_date, active_tasks_count, max_concurrent_tasks, avg_completion_time_hours, success_rate_percentage) VALUES\n(@qa_user1, @current_date, 4, 5, 2.8, 98.0), -- Lisa - High load\n(@qa_user2, @current_date, 3, 4, 3.5, 92.0), -- Tom - High load\n(@qa_user3, @current_date, 5, 6, 3.0, 95.0), -- Priya - At capacity\n(@qa_user4, @current_date, 2, 5, 3.8, 90.0), -- Jake - Light load\n(@qa_user5, @current_date, 3, 4, 4.0, 86.0); -- Nina - High load\n\nPRINT 'Team members added successfully!';\nPRINT '';\nPRINT 'SUMMARY:';\nPRINT 'Development Team (test-group-456): 5 members added';\nPRINT '  - Sarah Chen (Frontend Specialist)';\nPRINT '  - Marcus Johnson (Backend Lead)';\nPRINT '  - Elena Rodriguez (Full-stack Developer)';\nPRINT '  - David Kim (DevOps Engineer)';\nPRINT '  - Alex Thompson (Junior Developer)';\nPRINT '';\nPRINT 'Design Team (test-group-789): 5 members added';\nPRINT '  - Maya Patel (UI/UX Lead)';\nPRINT '  - James Wilson (UX Researcher)';\nPRINT '  - Zoe Martinez (Visual Designer)';\nPRINT '  - Ryan Foster (Interaction Designer)';\nPRINT '  - Sophie Chang (Design Systems Specialist)';\nPRINT '';\nPRINT 'QA Team (test-group-123): 5 members added';\nPRINT '  - Lisa Wang (Test Automation Lead)';\nPRINT '  - Tom Anderson (Manual Testing Specialist)';\nPRINT '  - Priya Sharma (Performance Tester)';\nPRINT '  - Jake Miller (Security Tester)';\nPRINT '  - Nina Kowalski (QA Analyst)';\nPRINT '';\nPRINT 'All users have realistic expertise scores and current workload data.';\nPRINT 'Analytics system should now provide diverse recommendations!';\n\n-- =============================================\n-- VERIFICATION QUERIES\n-- =============================================\n\nPRINT '';\nPRINT 'VERIFICATION - Team Membership:';\nSELECT \n    g.name AS team_name,\n    u.username,\n    CASE \n        WHEN g.name = 'Development Team' THEN\n            CASE u.username\n                WHEN 'sarah_chen' THEN 'Frontend Specialist'\n                WHEN 'marcus_johnson' THEN 'Backend Lead'\n                WHEN 'elena_rodriguez' THEN 'Full-stack Developer'\n                WHEN 'david_kim' THEN 'DevOps Engineer'\n                WHEN 'alex_thompson' THEN 'Junior Developer'\n            END\n        WHEN g.name = 'Design Team' THEN\n            CASE u.username\n                WHEN 'maya_patel' THEN 'UI/UX Lead'\n                WHEN 'james_wilson' THEN 'UX Researcher'\n                WHEN 'zoe_martinez' THEN 'Visual Designer'\n                WHEN 'ryan_foster' THEN 'Interaction Designer'\n                WHEN 'sophie_chang' THEN 'Design Systems Specialist'\n            END\n        WHEN g.name = 'QA Team' THEN\n            CASE u.username\n                WHEN 'lisa_wang' THEN 'Test Automation Lead'\n                WHEN 'tom_anderson' THEN 'Manual Testing Specialist'\n                WHEN 'priya_sharma' THEN 'Performance Tester'\n                WHEN 'jake_miller' THEN 'Security Tester'\n                WHEN 'nina_kowalski' THEN 'QA Analyst'\n            END\n    END AS role_description\nFROM dbo.Groups g\nINNER JOIN dbo.UserGroups ug ON g.gid = ug.gid\nINNER JOIN dbo.Users u ON ug.uid = u.uid\nWHERE g.name IN ('Development Team', 'Design Team', 'QA Team')\nORDER BY g.name, u.username;\n\nPRINT '';\nPRINT 'VERIFICATION - Current Workloads:';\nSELECT \n    u.username,\n    um.active_tasks_count,\n    um.max_concurrent_tasks,\n    CAST((CAST(um.active_tasks_count AS FLOAT) / um.max_concurrent_tasks * 100) AS DECIMAL(5,1)) AS utilization_percentage\nFROM dbo.UserMetrics um\nINNER JOIN dbo.Users u ON um.uid = u.uid\nWHERE um.metric_date = @current_date\nORDER BY utilization_percentage DESC;"